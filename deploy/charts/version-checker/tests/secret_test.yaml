suite: test deployment
templates:
  - secret.yaml
tests:
  - it: should not be present (default)
    asserts:
      - hasDocuments:
          count: 0

  - it: Only SelfHosted
    set:
      selfHosted: []
    asserts:
      - hasDocuments:
          count: 0

  # ACR

  # GCR:
  - it: GCR
    set:
      gcr.token: aasfas
    asserts:
      - hasDocuments:
          count: 1
      - equal:
          path: data["gcr.token"]
          value: YWFzZmFz

  # GHCR:
  - it: GHCR
    set:
      ghcr.token: aasfas
    asserts:
      - hasDocuments:
          count: 1
      - equal:
          path: data["ghcr.token"]
          value: YWFzZmFz
